<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <title>항공 네비게이션</title>
  <link rel="stylesheet" href="/web/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
</head>

<body>
  <!-- 지도 컨트롤 박스: 버튼 세로 배치, 단계 표시 제거 -->
  <div id="map-controls">
    <div id="maptype-tabs">
      <button class="maptype-tab active" id="maptype-normal-btn" type="button" role="tab" aria-selected="true"
        data-map-type="normal">일반지도</button>
      <button class="maptype-tab" id="maptype-satellite-btn" type="button" role="tab" aria-selected="false"
        data-map-type="satellite">위성지도</button>
    </div>
    <div id="zoom-buttons">
      <button id="btn-zoom-in" type="button" aria-label="지도 확대">+</button>
      <button id="btn-zoom-out" type="button" aria-label="지도 축소">-</button>
    </div>
    <button id="btn-filter" class="img-btn" title="필터" type="button" aria-label="필터 열기">
      <img src="source/filter.png" alt="필터" style="width:20px;height:20px;">
    </button>
  </div>
  <div class="sidebar-control">
    <button id="sidebar-toggle" title="사이드바 열기/닫기" aria-label="사이드바 열기/닫기">
      <img src="/web/source/sidebar.png" alt="사이드바 토글" />
    </button>
  </div>
  <div id="topbar">
    <h1 class="topbar-title" style="font-size: 24px; margin-bottom: 0;">✈ AirMap</h1>
    <div class="input-group" id="global-search-group" style="margin-bottom: 0;">
      <input type="text" id="global-search" placeholder="장소의 풀네임을 입력하시오" />
      <button id="global-search-btn">검색</button>
    </div>
    <div class="subtitle">
      <p style="margin: 0; font-size: 12px;">Made By SEOGO</p>
    </div>
  </div>
  <div id="container">
    <div id="sidebar">
      <div class="title">
        <h1>✈ AirMap</h1>
      </div>
      <div id="tabs">
        <div class="tab active" data-tab="search-tab">위치 검색</div>
        <div class="tab" data-tab="route-tab">경로 탐색</div>
      </div>
      <div class="panel active" id="search-tab">
        <label for="search">장소</label>
        <div class="input-group">
          <input type="text" id="search" placeholder="장소의 풀네임을 입력하시오" />
          <button id="btn-location">검색</button>
        </div>
      </div>
      <div class="panel" id="route-tab">
        <label for="start">출발지</label>
        <input type="text" id="start" placeholder="출발지의 풀네임을 입력하시오" />
        <label for="end">도착지</label>
        <input type="text" id="end" placeholder="목적지의 풀네임을 입력하시오" />
        <button id="btn-route" class="full-width-btn">경로 탐색</button>
        <button id="btn-loading" class="buttonload" style="display: none;" disabled>
          <i class="fa fa-spinner fa-spin"></i> 경로 탐색 중
        </button>
        <div id="route-summary" class="route-summary-box" style="display: none;">
          <div class="summary-row">
            <i class='bx bx-map-pin summary-icon'></i>
            <div>
              <div class="summary-label">출발지</div>
              <div id="summary-start" class="summary-value"></div>
            </div>
          </div>
          <div class="summary-row">
            <i class='bx bx-flag summary-icon'></i>
            <div>
              <div class="summary-label">도착지</div>
              <div id="summary-end" class="summary-value"></div>
            </div>
          </div>
          <div class="summary-row">
            <i class='bx bx-time summary-icon'></i>
            <div>
              <div class="summary-label">예상 소요 시간</div>
              <div id="summary-time" class="summary-value"></div>
            </div>
          </div>
          <div class="summary-row">
            <i class='bx bx-ruler summary-icon'></i>
            <div>
              <div class="summary-label">총 거리</div>
              <div id="summary-distance" class="summary-value"></div>
            </div>
          </div>
          <div id="summary-analysis" class="summary-row" style="display: none;">
            <i class='bx bx-error-alt summary-icon'></i>
            <div>
              <div class="summary-label">경로 분석</div>
              <div id="summary-warning" class="summary-warning"></div>
            </div>
          </div>
          <div id="route-analysis-results"></div>
          <div id="route-analysis-results"></div>
        </div>
        <button id="btn-remove-route" class="full-width-btn" style="display: none; margin-top: 10px;">경로 지우기</button>
      </div>
    </div>
    <div id="map-container">
      <iframe id="mapframe" src="/web/map.html"></iframe>
      <button id="delete-btn" class="map-overlay-btn" title="마커 초기화">마커 초기화</button>
    </div>
    <div id="filter-popup">
      <h2>필터 설정</h2>
      <div id="filter-btns">
        <!-- JavaScript로 버튼 생성 -->
      </div>
      <div id="filter-actions">
        <button id="filter-all-btn">모두 선택</button>
        <button id="filter-confirm-btn">확인</button>
      </div>
    </div>
</body>
<script>
  window.mapState = {{ map_state_json | tojson | safe }};
</script>
<script src="/web/scripts.js"></script>
</html>